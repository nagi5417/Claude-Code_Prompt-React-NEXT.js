---
description: 指定ファイル/モジュールのリファクタリング
argument-hint: <file-path-or-directory>
---

## リファクタリング対象: $ARGUMENTS

@$ARGUMENTS を分析し、以下の改善を実施してください。

### リファクタリング手順

1. **現状分析**: ファイルサイズ、複雑度、依存関係を確認
2. **計画策定**: 変更内容を一覧化し、リスクを評価
3. **テスト確認**: 既存テストが通ることを確認（`pnpm test -- --run`）
4. **実施**: 以下の改善を適用
   - 長い関数の分割（1関数50行以内目標）
   - 重複コードの共通化
   - マジックナンバーの定数化
   - 型の厳格化（any → 具体型）
   - 不要な依存の除去
   - Early return パターンの適用
5. **検証**: テスト再実行 + 型チェック + リント

### 制約

- 外部インターフェース（エクスポートされた型・関数のシグネチャ）は変更しない
- 動作の変更がない pure refactoring のみ実施
- 変更が大きい場合は段階的にコミット
